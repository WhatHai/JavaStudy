# Hystrix断路器

https://www.toutiao.com/i6945652156867363360/

## 服务雪崩

客户端访问A服务，而A服务需要调用B服务，B服务需要调用C服务，由于网络原因或者自身的原因，如果B服务或者C服务不能及时响应，A服务将处于阻塞状态，直到B服务C服务响应。此时若有大量的请求涌入，容器的线程资源会被消耗完毕，导致服务瘫痪。服务与服务之间的依赖性，故障会传播，造成连锁反应，会对整个微服务系统造成灾难性的严重后果，这就是服务故障的“雪崩”效应

##  降级

降级是指，当请求超时、资源不足等情况发生时进行服务降级处理，不调用真实服务逻辑，而是使用快速失败（fallback）方式直接返回一个托底数据，保证服务链条的完整，避免服务雪崩。





服务隔离：模块独立，无强依赖

熔断：当下游服务因访问压力过大而响应变慢或失败，上游服务为了保护系统整体的可用性，可以暂时切断对下游服务的调用

降级：是当某个服务熔断之后，服务器将不再被调用，此时客户端可以自己准备一个本地的fallback回调，返回一个缺省值

限流：可以认为服务降级的一种，限流就是限制系统的输入和输出流量已达到保护系统的目的



## 线程隔离

比如：订单服务提供创建和查询两个接口，操作时候其中一个接口挂了，会占用所有资源，其他请求处理不了，可能造成服务雪崩，影响另一个接口。

此时可以用线程隔离，资源有限，比如查询可以给70个线程，创建给30个。